{"ast":null,"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar tslib_1 = require(\"tslib\");\n\nvar core_1 = require(\"./core\");\n\nexports.coreReducer = core_1.coreReducer;\nexports.errorsAt = core_1.errorsAt;\n\nvar default_data_1 = require(\"./default-data\");\n\nvar default_data_2 = require(\"../reducers/default-data\");\n\nvar renderers_1 = require(\"./renderers\");\n\nexports.rendererReducer = renderers_1.rendererReducer;\n\nvar uischemas_1 = require(\"./uischemas\");\n\nexports.findMatchingUISchema = uischemas_1.findMatchingUISchema;\nexports.uischemaRegistryReducer = uischemas_1.uischemaRegistryReducer;\n\nvar i18n_1 = require(\"./i18n\");\n\nexports.i18nReducer = i18n_1.i18nReducer;\n\nvar generators_1 = require(\"../generators\");\n\nvar cells_1 = require(\"./cells\");\n\nexports.cellReducer = cells_1.cellReducer;\n\nvar config_1 = require(\"./config\");\n\nexports.configReducer = config_1.configReducer;\n\nvar get_1 = tslib_1.__importDefault(require(\"lodash/get\"));\n\nexports.jsonFormsReducerConfig = {\n  core: core_1.coreReducer,\n  renderers: renderers_1.rendererReducer,\n  cells: cells_1.cellReducer,\n  config: config_1.configReducer,\n  uischemas: uischemas_1.uischemaRegistryReducer,\n  defaultData: default_data_2.defaultDataReducer,\n  i18n: i18n_1.i18nReducer\n};\n\nexports.getData = function (state) {\n  return core_1.extractData(get_1.default(state, 'jsonforms.core'));\n};\n\nexports.getSchema = function (state) {\n  return core_1.extractSchema(get_1.default(state, 'jsonforms.core'));\n};\n\nexports.getUiSchema = function (state) {\n  return core_1.extractUiSchema(get_1.default(state, 'jsonforms.core'));\n};\n\nexports.getRefParserOptions = function (state) {\n  return core_1.extractRefParserOptions(get_1.default(state, 'jsonforms.core'));\n};\n\nexports.getAjv = function (state) {\n  return core_1.extractAjv(get_1.default(state, 'jsonforms.core'));\n};\n\nexports.getDefaultData = function (state) {\n  return default_data_1.extractDefaultData(get_1.default(state, 'jsonforms.defaultData'));\n};\n\nexports.getRenderers = function (state) {\n  return get_1.default(state, 'jsonforms.renderers');\n};\n\nexports.getCells = function (state) {\n  return get_1.default(state, 'jsonforms.cells');\n};\n\nexports.getUISchemas = function (state) {\n  return get_1.default(state, 'jsonforms.uischemas');\n};\n/**\n * Finds a registered UI schema to use, if any.\n * @param schema the JSON schema describing the data to be rendered\n * @param schemaPath the according schema path\n * @param path the instance path\n * @param fallbackLayoutType the type of the layout to use\n * @param control may be checked for embedded inline uischema options\n */\n\n\nexports.findUISchema = function (uischemas, schema, schemaPath, path, fallbackLayoutType, control, rootSchema) {\n  if (fallbackLayoutType === void 0) {\n    fallbackLayoutType = 'VerticalLayout';\n  } // handle options\n\n\n  if (control && control.options && control.options.detail) {\n    if (typeof control.options.detail === 'string') {\n      if (control.options.detail.toUpperCase() === 'GENERATE') {\n        // force generation of uischema\n        return generators_1.Generate.uiSchema(schema, fallbackLayoutType);\n      }\n    } else if (typeof control.options.detail === 'object') {\n      // check if detail is a valid uischema\n      if (control.options.detail.type && typeof control.options.detail.type === 'string') {\n        return control.options.detail;\n      }\n    }\n  } // default\n\n\n  var uiSchema = uischemas_1.findMatchingUISchema(uischemas)(schema, schemaPath, path);\n\n  if (uiSchema === undefined) {\n    return generators_1.Generate.uiSchema(schema, fallbackLayoutType, '#', rootSchema);\n  }\n\n  return uiSchema;\n};\n\nexports.getErrorAt = function (instancePath, schema) {\n  return function (state) {\n    return core_1.errorAt(instancePath, schema)(state.jsonforms.core);\n  };\n};\n\nexports.getSubErrorsAt = function (instancePath, schema) {\n  return function (state) {\n    return core_1.subErrorsAt(instancePath, schema)(state.jsonforms.core);\n  };\n};\n\nexports.getConfig = function (state) {\n  return state.jsonforms.config;\n};\n\nexports.getLocale = function (state) {\n  return i18n_1.fetchLocale(get_1.default(state, 'jsonforms.i18n'));\n};\n\nexports.getLocalizedSchema = function (locale) {\n  return function (state) {\n    return i18n_1.findLocalizedSchema(locale)(get_1.default(state, 'jsonforms.i18n'));\n  };\n};\n\nexports.getLocalizedUISchema = function (locale) {\n  return function (state) {\n    return i18n_1.findLocalizedUISchema(locale)(get_1.default(state, 'jsonforms.i18n'));\n  };\n};","map":{"version":3,"mappings":"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","names":["exports","core_1","renderers_1","uischemas_1","i18n_1","cells_1","config_1","core","renderers","cells","config","uischemas","defaultData","default_data_2","i18n","state","get_1","schema","schemaPath","path","fallbackLayoutType","control","rootSchema","options","detail","toUpperCase","generators_1","uiSchema","type","undefined","instancePath","jsonforms","locale"],"sourceRoot":"","sources":["../../src/reducers/index.ts"],"sourcesContent":[null]},"metadata":{},"sourceType":"script"}